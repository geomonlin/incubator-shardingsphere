<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="generator" content="Hugo 0.20.7" />
    <meta name="description" content="">


    <link rel="shortcut icon" href="http://shardingsphere.apache.org/document/legacy/2.x/en/img/favicon.png" type="image/x-icon" />

    
    <title>Sharding</title>
    <link href="http://shardingsphere.apache.org/document/legacy/2.x/en/css/nucleus.css" rel="stylesheet">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link href="http://shardingsphere.apache.org/document/legacy/2.x/en/css/theme.css" rel="stylesheet">
    <link href="http://shardingsphere.apache.org/document/legacy/2.x/en/css/hugo-theme.css" rel="stylesheet">
    <script src="https://cdn.bootcss.com/jquery/1.11.3/jquery.min.js"></script>
    <style type="text/css">:root #header + #content > #left > #rlblock_left
    {display:none !important;}</style>
    <link rel="stylesheet" href="http://cdn.bootcss.com/highlight.js/9.8.0/styles/monokai-sublime.min.css">
<link rel="stylesheet" href="http://shardingsphere.apache.org/document/legacy/2.x/en/css/style.css">
  </head>
  <body class="" data-url="/02-guide/sharding/">
    
    <nav id="sidebar">
  <div id="header-wrapper">
    <div id="header">
      <img src="http://shardingsphere.apache.org/document/legacy/2.x/en/img/sharding-jdbc.png" />
    </div>
</div>
  <div class="highlightable">
    <ul class="topics">
      
        
        
          
          
            
          
        
          
          
            
          
        
          
          
            
          
        
          
          
            
          
        
        
        
          
        
          
        
          
        
          
        
      
      
      
      

      
      
      
        
          
          
            
          
        
      
      
      

      <li class="dd-item  " data-nav-id="/00-overview/">
        <a href="http://shardingsphere.apache.org/document/legacy/2.x/en/00-overview/">
          <span>
            
              <b>0. </b>
            
             Overview
            
           </span>
        </a>
        
        <ul>
          
            <li class="dd-item " data-nav-id="/00-overview/intro/">
              <a href="http://shardingsphere.apache.org/document/legacy/2.x/en/00-overview/intro/">
                <span>Brief Introduction     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/00-overview/news/">
              <a href="http://shardingsphere.apache.org/document/legacy/2.x/en/00-overview/news/">
                <span>News     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/00-overview/contribution/">
              <a href="http://shardingsphere.apache.org/document/legacy/2.x/en/00-overview/contribution/">
                <span>Contribute Code     </i></span>
              </a>
            </li>
          
        </ul>
        
      </li>
      
      
      

      
      
      
        
          
          
            
          
        
      
      
      

      <li class="dd-item  " data-nav-id="/01-start/">
        <a href="http://shardingsphere.apache.org/document/legacy/2.x/en/01-start/">
          <span>
            
              <b>1. </b>
            
             Introduction
            
           </span>
        </a>
        
        <ul>
          
            <li class="dd-item " data-nav-id="/01-start/quick-start/">
              <a href="http://shardingsphere.apache.org/document/legacy/2.x/en/01-start/quick-start/">
                <span>Quick Start     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/01-start/code-demo/">
              <a href="http://shardingsphere.apache.org/document/legacy/2.x/en/01-start/code-demo/">
                <span>Usage Example     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/01-start/faq/">
              <a href="http://shardingsphere.apache.org/document/legacy/2.x/en/01-start/faq/">
                <span>FAQ     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/01-start/features/">
              <a href="http://shardingsphere.apache.org/document/legacy/2.x/en/01-start/features/">
                <span>Feature List     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/01-start/limitations/">
              <a href="http://shardingsphere.apache.org/document/legacy/2.x/en/01-start/limitations/">
                <span>Use Limits     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/01-start/sql-supported/">
              <a href="http://shardingsphere.apache.org/document/legacy/2.x/en/01-start/sql-supported/">
                <span>The list of available SQL syntax     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/01-start/stress-test/">
              <a href="http://shardingsphere.apache.org/document/legacy/2.x/en/01-start/stress-test/">
                <span>The performance-test report     </i></span>
              </a>
            </li>
          
        </ul>
        
      </li>
      
      
      

      
      
      
        
          
          
            
          
        
      
      
      

      <li class="dd-item  parent" data-nav-id="/02-guide/">
        <a href="http://shardingsphere.apache.org/document/legacy/2.x/en/02-guide/">
          <span>
            
              <b>2. </b>
            
             User Manual
            
           </span>
        </a>
        
        <ul>
          
            <li class="dd-item " data-nav-id="/02-guide/concepts/">
              <a href="http://shardingsphere.apache.org/document/legacy/2.x/en/02-guide/concepts/">
                <span>Basic Concepts      </i></span>
              </a>
            </li>
          
            <li class="dd-item active" data-nav-id="/02-guide/sharding/">
              <a href="http://shardingsphere.apache.org/document/legacy/2.x/en/02-guide/sharding/">
                <span>Sharding     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/02-guide/master-slave/">
              <a href="http://shardingsphere.apache.org/document/legacy/2.x/en/02-guide/master-slave/">
                <span>Read-write splitting     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/02-guide/config_domain/">
              <a href="http://shardingsphere.apache.org/document/legacy/2.x/en/02-guide/config_domain/">
                <span>Domain Model Configuration     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/02-guide/configuration/">
              <a href="http://shardingsphere.apache.org/document/legacy/2.x/en/02-guide/configuration/">
                <span>Configuration     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/02-guide/orchestration/">
              <a href="http://shardingsphere.apache.org/document/legacy/2.x/en/02-guide/orchestration/">
                <span>Orchestration     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/02-guide/hint-sharding-value/">
              <a href="http://shardingsphere.apache.org/document/legacy/2.x/en/02-guide/hint-sharding-value/">
                <span>Mandatory Routing     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/02-guide/key-generator/">
              <a href="http://shardingsphere.apache.org/document/legacy/2.x/en/02-guide/key-generator/">
                <span>Distributed Primary key     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/02-guide/transaction/">
              <a href="http://shardingsphere.apache.org/document/legacy/2.x/en/02-guide/transaction/">
                <span>Transaction Support     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/02-guide/subquery/">
              <a href="http://shardingsphere.apache.org/document/legacy/2.x/en/02-guide/subquery/">
                <span>The Pagination and subquery     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/02-guide/test-framework/">
              <a href="http://shardingsphere.apache.org/document/legacy/2.x/en/02-guide/test-framework/">
                <span>Test Engine     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/02-guide/apm/">
              <a href="http://shardingsphere.apache.org/document/legacy/2.x/en/02-guide/apm/">
                <span>APM     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/02-guide/sharding-jdbc-server/">
              <a href="http://shardingsphere.apache.org/document/legacy/2.x/en/02-guide/sharding-jdbc-server/">
                <span>Sharding-JDBC-Server     </i></span>
              </a>
            </li>
          
        </ul>
        
      </li>
      
      
      

      
      
      
        
          
          
            
          
        
      
      
      

      <li class="dd-item  " data-nav-id="/03-design/">
        <a href="http://shardingsphere.apache.org/document/legacy/2.x/en/03-design/">
          <span>
            
              <b>3. </b>
            
             Design Plan
            
           </span>
        </a>
        
        <ul>
          
            <li class="dd-item " data-nav-id="/03-design/architecture/">
              <a href="http://shardingsphere.apache.org/document/legacy/2.x/en/03-design/architecture/">
                <span>Architecture Design     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/03-design/module/">
              <a href="http://shardingsphere.apache.org/document/legacy/2.x/en/03-design/module/">
                <span>Module Declaration     </i></span>
              </a>
            </li>
          
            <li class="dd-item " data-nav-id="/03-design/roadmap/">
              <a href="http://shardingsphere.apache.org/document/legacy/2.x/en/03-design/roadmap/">
                <span>Roadmap     </i></span>
              </a>
            </li>
          
        </ul>
        
      </li>
      
      
    </ul>
    <hr>
     
  </div>
</nav>

        <section id="body">
        <div id="overlay"></div>

        <div class="padding highlightable">

            <div id="top-bar">
              
              <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                  <span id="sidebar-toggle-span">
                      <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                        <i class="fa fa-bars"></i>
                      </a>
                  </span>
                
                <span id="toc-menu"><a href=""><i class="fa fa-list-alt"></i></a></span>
                
                
                  
                  
                  
                    
                    
                <a href="http://shardingsphere.apache.org/document/legacy/2.x/en/02-guide/" itemprop="url"><span itemprop="title">User Manual</span></a> <i class="fa fa-angle-right"></i>
                    
                  
                
                <span itemprop="title"> Sharding</span>
              </div>
              
                  <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
<ul>
<li>
<ul>
<li><a href="#database-information">Database Information</a></li>
<li><a href="#the-correspondence-between-logictable-and-actualtable">The correspondence between LogicTable and ActualTable</a>
<ul>
<li><a href="#uniform-distribution">Uniform distribution</a></li>
<li><a href="#user-defined-distribution">User-defined distribution</a></li>
<li><a href="#table-distribution-for-example">Table distribution for example</a></li>
</ul></li>
<li><a href="#logictable-and-actualtable">LogicTable and ActualTable</a></li>
<li><a href="#rule-configuration">Rule Configuration</a></li>
<li><a href="#data-source-configuration">Data-Source Configuration</a></li>
<li><a href="#strategy-configuration">Strategy Configuration</a>
<ul>
<li><a href="#the-strategy-of-data-source-and-table">The Strategy of data-source and table</a></li>
<li><a href="#global-default-strategy-for-specific-table-rules">Global default strategy for specific table rules</a></li>
<li><a href="#sharding-column">Sharding Column</a></li>
<li><a href="#sharding-algorithm">Sharding Algorithm</a></li>
<li><a href="#cascade-binding-table">Cascade Binding Table</a></li>
</ul></li>
<li><a href="#sharding-datasource-creation">Sharding DataSource Creation</a></li>
<li><a href="#sharding-datasource-usage">Sharding DataSource Usage</a></li>
</ul></li>
</ul>
</nav>
    </div>
</div>

              

            </div>
            
              <div id="body-inner">
                
                <h1>Sharding</h1>
                



<p>Please read Quick Start before you start with this guide. This section will further introduce the usage of Sharding-JDBC&rsquo;s Sharding in more complex cases.</p>

<h2 id="database-information">Database Information</h2>

<p>Two data sources, db0 and db1 are for example to illustrate. Each data source has two sets of tables, t_order_0 and t_order_1, t_order_item_0 and t_order_item_1. The SQLs for creating table:</p>

<pre><code class="language-sql">CREATE TABLE IF NOT EXISTS t_order_x (
  order_id INT NOT NULL,
  user_id  INT NOT NULL,
  PRIMARY KEY (order_id)
);
CREATE TABLE IF NOT EXISTS t_order_item_x (
  item_id  INT NOT NULL,
  order_id INT NOT NULL,
  user_id  INT NOT NULL,
  PRIMARY KEY (item_id)
);
</code></pre>

<h2 id="the-correspondence-between-logictable-and-actualtable">The correspondence between LogicTable and ActualTable</h2>

<h3 id="uniform-distribution">Uniform distribution</h3>

<p>Tables are evenly distributed in each data source.</p>

<pre><code>db0
  ├── t_order_0
  └── t_order_1
db1
  ├── t_order_0
  └── t_order_1
</code></pre>

<p>Use default configuration for Table rules.</p>

<pre><code class="language-java">    TableRuleConfiguration orderTableRuleConfig = new TableRuleConfiguration();
    orderTableRuleConfig.setLogicTable(&quot;t_order&quot;);
    orderTableRuleConfig.setActualDataNodes(&quot;db0.t_order_0, db0.t_order_1, db1.t_order_0, db1.t_order_1&quot;);
</code></pre>

<h3 id="user-defined-distribution">User-defined distribution</h3>

<p>Tables are not evenly distributed in each data source.</p>

<pre><code>db0
  ├── t_order_0
  └── t_order_1
db1
  ├── t_order_2
  ├── t_order_3
  └── t_order_4
</code></pre>

<p>Use User-defined configuration for Table rules.</p>

<pre><code class="language-java">    TableRuleConfiguration orderTableRuleConfig = new TableRuleConfiguration();
    orderTableRuleConfig.setLogicTable(&quot;t_order&quot;);
    orderTableRuleConfig.setActualDataNodes(&quot;db0.t_order_0, db0.t_order_1, db1.t_order_0, db1.t_order_1&quot;);
</code></pre>

<h3 id="table-distribution-for-example">Table distribution for example</h3>

<pre><code>db0
  ├── t_order_0               user_id is even number   order_id is even number
  ├── t_order_1               user_id is even number   order_id is odd number
  ├── t_order_item_0          user_id is even number   order_id is even number
  └── t_order_item_1          user_id is even number   order_id is odd number
db1
  ├── t_order_0               user_id is odd number    order_id is even number
  ├── t_order_1               user_id is odd number    order_id is odd number
  ├── t_order_item_0          user_id is odd number    order_id is even number
  └── t_order_item_1          user_id is odd number    order_id is odd number
</code></pre>

<h2 id="logictable-and-actualtable">LogicTable and ActualTable</h2>

<p>The purpose of Database-Sharding is to spread the data from the original table to different tables in different databases, and to query data without changing the original SQLs. This mapping relation will be illustrated by using LogicTable and ActualTable. Assuming access to the database using PreparedStatement, SQL is as follows:</p>

<pre><code class="language-sql">select * from t_order where user_id = ? and order_id = ?;
</code></pre>

<p>when condition is user_id=0 and order=0，Sharding-JDBC will change this SQL to the following SQL:</p>

<pre><code class="language-sql">select * from db0.t_order_0 where user_id = ? and order_id = ?;
</code></pre>

<p>t_order in the first SQL is <strong>LogicTable</strong>, and db0.t_order_0 in the second SQL is <strong>ActualTable</strong>.</p>

<h2 id="rule-configuration">Rule Configuration</h2>

<p>You can set rule configuration to achieve the above-mentioned functions, and detailed rule configuration will be introduced in this part:</p>

<pre><code class="language-java">    ShardingRuleConfiguration shardingRuleConfig = new ShardingRuleConfiguration();
    shardingRuleConfig.getTableRuleConfigs().add(orderTableRule);
    shardingRuleConfig.getTableRuleConfigs().add(orderItemTableRule);
    shardingRuleConfig.setDefaultDatabaseShardingStrategyConfig(new ComplexShardingStrategyConfiguration(&quot;user_id&quot;, &quot;xxx.ModuloDatabaseShardingAlgorithm&quot;));
    shardingRuleConfig.setDefaultTableShardingStrategyConfig(new ComplexShardingStrategyConfiguration(&quot;order_id&quot;, &quot;xxx.ModuloTableShardingAlgorithm&quot;));
</code></pre>

<h2 id="data-source-configuration">Data-Source Configuration</h2>

<p>We need to create a DataSource Map object which is used to describe the mapping of data-source&rsquo;s name and data source.</p>

<pre><code class="language-java">Map&lt;String, DataSource&gt; dataSourceMap = new HashMap&lt;&gt;();
dataSourceMap.put(&quot;ds_0&quot;, createDataSource(&quot;ds_0&quot;));
dataSourceMap.put(&quot;ds_1&quot;, createDataSource(&quot;ds_1&quot;));
</code></pre>

<p>You can access data source via any kind of connection pool, Here is DBCP.</p>

<pre><code class="language-java">private DataSource createDataSource(final String dataSourceName) {
    BasicDataSource result = new BasicDataSource();
    result.setDriverClassName(com.mysql.jdbc.Driver.class.getName());
    result.setUrl(String.format(&quot;jdbc:mysql://localhost:3306/%s&quot;, dataSourceName));
    result.setUsername(&quot;root&quot;);
    result.setPassword(&quot;&quot;);
    return result;
}
</code></pre>

<h2 id="strategy-configuration">Strategy Configuration</h2>

<h3 id="the-strategy-of-data-source-and-table">The Strategy of data-source and table</h3>

<p>There are two dimensions for sharding strategies in Sharding-JDBC:
- DatabaseShardingStrategy: The strategy for data sourcse where data is distributed.
- TableShardingStrategy: The strategy for tables where data is distributed. TableShardingStrategy is dependent on DatabaseShardingStrategy, for those tables exists in corresponding data sources. In addition, The API for those two strategies is same, therefore we will give a detailed introduction for this API.</p>

<h3 id="global-default-strategy-for-specific-table-rules">Global default strategy for specific table rules</h3>

<p>Strategies are closely related to table rules, for strategies apply to specific table rule.</p>

<pre><code class="language-java">    TableRuleConfiguration orderTableRuleConfig = new TableRuleConfiguration();
    orderTableRuleConfig.setLogicTable(&quot;t_order&quot;);
    orderTableRuleConfig.setActualDataNodes(&quot;ds_0.t_order_0, ds_0.t_order_1, ds_1.t_order_0, ds_1.t_order_1&quot;);
    orderTableRuleConfig.setDatabaseShardingStrategyConfig(new ComplexShardingStrategyConfiguration(&quot;user_id&quot;, &quot;xxx.ModuloDatabaseShardingAlgorithm&quot;));
    orderTableRuleConfig.setTableShardingStrategyConfig(new ComplexShardingStrategyConfiguration(&quot;order_id&quot;, &quot;xxx.ModuloTableShardingAlgorithm&quot;));
</code></pre>

<p>If all or most of the tables are in the same sharding strategies, you can use the default strategy to simplify the configuration.</p>

<pre><code class="language-java">    TableRuleConfiguration orderTableRuleConfig = new TableRuleConfiguration();
    orderTableRuleConfig.setLogicTable(&quot;t_order&quot;);
    orderTableRuleConfig.setActualDataNodes(&quot;ds_0.t_order_0, ds_0.t_order_1, ds_1.t_order_0, ds_1.t_order_1&quot;);
    
    TableRuleConfiguration orderItemTableRuleConfig = new TableRuleConfiguration();
    orderItemTableRuleConfig.setLogicTable(&quot;t_order_item&quot;);
    orderItemTableRuleConfig.setActualDataNodes(&quot;ds_0.t_order_item_0,ds_0.t_order_item_1,ds_1.t_order_item_0,ds_1.t_order_item_1&quot;);
    
    ShardingRuleConfiguration shardingRuleConfig = new ShardingRuleConfiguration();
    shardingRuleConfig.getTableRuleConfigs().add(orderTableRuleConfig);
    shardingRuleConfig.getTableRuleConfigs().add(orderItemTableRuleConfig);
    shardingRuleConfig.setDefaultDatabaseShardingStrategyConfig(new ComplexShardingStrategyConfiguration(&quot;user_id&quot;, &quot;xxx.ModuloDatabaseShardingAlgorithm&quot;));
    shardingRuleConfig.setDefaultTableShardingStrategyConfig(new ComplexShardingStrategyConfiguration(&quot;order_id&quot;, &quot;xxx.ModuloTableShardingAlgorithm&quot;));
</code></pre>

<h3 id="sharding-column">Sharding Column</h3>

<p>Sharding Columns set as the first parameter in sharding strategy are condition columns in WHERE in SQL. You can configure multiple sharding columns.</p>

<h3 id="sharding-algorithm">Sharding Algorithm</h3>

<p>Sharding-JDBC provides 5 kinds of sharding strategies. Because of the closely connection between specific business and specific sharding algorithms, Sharding-JDBC not carry out sharding algorithm. Instead, after making a higher level of abstraction, we provide API to allow developers to implement sharding algorithms as they need.</p>

<ul>
<li>StandardShardingStrategy</li>
</ul>

<p>Support =, IN, BETWEEN AND in SQLs for sharding operation. StandardShardingStrategy only supports single sharding column, and provides two sharding algorithms of PreciseShardingAlgorithm and RangeShardingAlgorithm. The PreciseShardingAlgorithm is required to handle the sharding operation of = and IN. The RangeShardingAlgorithm is optional to handle BETWEEN AND. If the RangeShardingAlgorithm is not configured, the BETWEEN-AND SQLs will be executed in all tables.</p>

<ul>
<li>ComplexShardingStrategy</li>
</ul>

<p>Support =, IN, BETWEEN AND in SQLs for sharding operation. ComplexShardingStrategy supports multiple sharding columns. Due to the complex relationship among the multiple sharding columns, Sharding-JDBC only provide algorithm API to allow developers combine different sharding columns and implement the specific algorithm.</p>

<ul>
<li>InlineShardingStrategy</li>
</ul>

<p>This strategy provides sharding support for =, IN in SQLs by means of Groovy&rsquo;s Inline expression. InlineShardingStrategy only supports single sharding column. Some simple sharding algorithm can be configured, e.g. t<em>user</em> $ {user_id% 8} shows us the t_user table is divided into 8 tables via mod(user_id), and the child tables is t_user_0 to t_user_7.</p>

<ul>
<li>HintShardingStrategy</li>
</ul>

<p>Support spliting table by means of Hint method, not SQL Parsing.</p>

<ul>
<li>NoneShardingStrategy</li>
</ul>

<p>Do not split databases or tables.</p>

<h3 id="cascade-binding-table">Cascade Binding Table</h3>

<p>It consists of a group of tables for which the mapping relationship between their logical tables and actual tables is the same. e.g. The order table splited with Order ID, and the order item table also splited with Order ID. As a result, you can configure order table and order item table as BindingTable of each other.</p>

<p>In this condition, if the SQL is as follows：</p>

<pre><code class="language-sql">SELECT i.* FROM t_order o JOIN t_order_item i ON o.order_id=i.order_id WHERE o.user_id=? AND o.order_id=?
</code></pre>

<p>t_order is at the left of FROM, Sharding-JDBC will treat it as driving table for the group of binding tables. All routing calculations will only employ the configured strategy of driving table. Therefore the routing calculation for t_order_item will use the condition of t_order as well. The core of this implementation lies in their same Sharding Column.</p>

<h2 id="sharding-datasource-creation">Sharding DataSource Creation</h2>

<p>We can get ShardingDataSource from the ShardingDataSourceFactory factory after configuring the rules.</p>

<pre><code class="language-java">DataSource dataSource = ShardingDataSourceFactory.createDataSource(dataSourceMap, shardingRuleConfig);

</code></pre>

<h2 id="sharding-datasource-usage">Sharding DataSource Usage</h2>

<p>Let us take an example to learn how to use this data source.</p>

<pre><code class="language-java">String sql = &quot;SELECT i.* FROM t_order o JOIN t_order_item i ON o.order_id=i.order_id WHERE o.user_id=? AND o.order_id=?&quot;;
        try (
                Connection conn = dataSource.getConnection();
                PreparedStatement preparedStatement = conn.prepareStatement(sql);
                ) {
            preparedStatement.setInt(1, 10);
            preparedStatement.setInt(2, 1001);
            ResultSet rs = preparedStatement.executeQuery();
            while (rs.next()) {
                System.out.println(rs.getInt(1));
                System.out.println(rs.getInt(2));
                System.out.println(rs.getInt(3));
            }
            rs.close();
        }
</code></pre>

<p>Same as the ordinary data, you can use it by the above-mentioned API. At the same time, you can also configure it in Spring, Hibernate framework.</p>

<blockquote>
<p>If you not want to use columns in the table as sharding columns, please refer to: <a href="http://shardingsphere.apache.org/document/legacy/2.x/en/02-guide/hint-sharding-value">Mandatory Routing</a></p>
</blockquote>


      
      
      </div>
    </div>

    

    <div id="navigation">
        
        <a class="nav nav-prev" href="http://shardingsphere.apache.org/document/legacy/2.x/en/02-guide/concepts/"> <i class="fa fa-chevron-left"></i></a>
        <a class="nav nav-next" href="http://shardingsphere.apache.org/document/legacy/2.x/en/02-guide/master-slave/" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
    </div>

    </section>
    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="http://shardingsphere.apache.org/document/legacy/2.x/en/js/clipboard.min.js"></script>
    <script src="http://shardingsphere.apache.org/document/legacy/2.x/en/js/perfect-scrollbar.min.js"></script>
    <script src="http://shardingsphere.apache.org/document/legacy/2.x/en/js/perfect-scrollbar.jquery.min.js"></script>
    <script src="http://shardingsphere.apache.org/document/legacy/2.x/en/js/jquery.sticky-kit.min.js"></script>
    <script src="http://shardingsphere.apache.org/document/legacy/2.x/en/js/featherlight.min.js"></script>
    <script src="http://shardingsphere.apache.org/document/legacy/2.x/en/js/html5shiv-printshiv.min.js"></script>
    <script src="http://shardingsphere.apache.org/document/legacy/2.x/en/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="http://shardingsphere.apache.org/document/legacy/2.x/en/js/learn.js"></script>
    <script src="http://shardingsphere.apache.org/document/legacy/2.x/en/js/hugo-learn.js"></script>
    <script src="http://cdn.bootcss.com/highlight.js/9.8.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

  </body>
</html>

